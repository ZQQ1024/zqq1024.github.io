---
title: "SQLi Labs"
weight: 3
bookToc: true
---

## 环境

使用Docker快速搭建`SQLi Labs`靶场环境
```bash
docker run -dt --name sqli-lab -p 50080:80 acgpiano/sqli-labs:latest
```

部署完后访问[http://localhost:50080/](http://localhost:50080/)，数据库初始操作点击一下`Setup/reset Database for labs`

## Tips
### information_schema

`information_schema`是mysql自带的一个数据库，包含了各种原数据，可以获取以下信息

获取所有databases
```sql
select group_concat(schema_name) from information_schema.schemata
```

获取当前database
```sql
select database()
```

获取当前数据库的所有表tables
```sql
select group_concat(table_name) from information_schema.tables where 
table_schema = database()
```

获取某个表的所有columns
```sql
select group_concat(column_name) from information_schema.columns where 
table_schema = database() and table_name = 'users'
```

获取某个表中的数据
```sql
select group_concat(id,':',username,':',password) from users
```

### 注释

3种注释风格：
- `#`: 后面直接加内容，如`#this is a comment`
- `--`: 后面必须要加空格，如`-- this is a comment`，urlencode会将`+`替换为空格
- `/**/`:  中间可以跨行，如`/*this is a comment*/`

注释的目的是：在输入数据改变了原有sql执行的情况下，能够正确闭合sql语句

### 文件操作
读文件
```sql
select load_file('/etc/passwd')
```

写文件
```sql
select * from user into outfile '/tmp/zqqtest'
```

DUAL为虚拟表，为了补齐语法结构

limit 0,1 或 limit 1 offset 0 取第一条 

### 优先级

AND OR 优先级

### 报错



以下`Less`只获取当前数据库信息，其他信息自行扩展



## Page-1 (Basic Challenges)

### Less-1 GET - Error based - Single quotes - String



## Page-2 (Advanced Injections)

## Page-3 (Stacked Injections)

## Page-4 (Challenges)